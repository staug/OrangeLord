http://www.angryfishstudios.com/2011/04/adventures-in-bitmasking/